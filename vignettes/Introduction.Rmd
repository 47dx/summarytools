---
title: "Introduction to summarytools"
author: "Dominic Comtois"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to summarytools}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

*summarytools* is an [R](http://r-project.org) package providing tools to _neatly and quickly summarize data_. Its main purpose is to provide hassle-free functions that every R programmer once wished were included in base R:

- **frequency tables** with proportions, cumulative proportions and missing data information
- **descriptive statistics** with all common univariate statistics for numerical vectors
- **dataframe summaries** that facilitate data cleaning and firsthand evaluation

It also aims at making R _a little easier_ to use for newcomers. With just a few lines of code, one can get a pretty good picture of the data at hand.

## Three Key Functions

The package is built around three key functions:

- **`freq()`** produces a frequency table for factors or any categorical, discrete data
- **`descr()`** gives the most common univariate statistics for continuous data
- **`dfSummary()`** generates a summary table indicating, for each variable, its name, label if any, class(es), some univariate stats (for numerical variables), frequencies whenever possible, and missing data information

## Flexible Output Formats

Tables generated by the three main functions can very easily converted to HTML or _markdown_ if you need to. You have the option to:

- show results unformatted in the console (default)
- generate a plain text, _markdown_ or HTML document simply by adding the `file=` argument
- visualize HTML-formatted results in Web Browser or _RStudio_'s Viewer via the `view()` or `print()` functions

Those features mostly rely on the following packages: _htmltools_, _pander_ and _xtable_.

## Additional Features

- Both `freq()` and `descr()` support weights. 
- The three main functions support variable labels (through `Hmisc::label`) 
- `what.is()`, an utility function, combines results from functions such as `class()`, `attributes()`, `type()` and the like to give the an extensive description of an object's nature. It also checks the object against all available `is.` functions and returns the list of matching elements. 

```{r setup, include=FALSE}
library(summarytools)
library(knitr)
opts_chunk$set(comment=NA, prompt=TRUE, cache=FALSE)
#library(pander)
#panderOptions('knitr.auto.asis', FALSE)
```

## Bare-Bones Example

To show what default (console) outputs look like, we'll just generate a frequency table for `iris$Species`.

```{r barebones}
freq(iris$Species)
```

Suggestion: try setting the `style` argument to "grid" and see what happens.

## Markdown-Ready Results

The source of this document is an .Rmd file; _knitr_'s chunk option `results` has been set to `'asis'`, to make sure formatting is not coming from _knitr_ itself. Rather, it is all _pander_'s behind-the-scenes work at play. To familiarize yourself with it, try the different values for `style=` and see how results look in the console. 

**Important Note** -- Depending on the context and your system's configuration, you don't necessarily need to set `style='rmarkdown'` in order for the tables in _.Rmd_ documents to be rendered correctly. The default value, `style='simple'`, will work fine in many cases. 

### Descriptive (Univariate) Statistics With `descr()`

The function accepts both vectors and dataframes, in which case it will show statistics for all numeric variables in the dataframe. Note that you can set `transpose=TRUE` if you prefer seeing things the other way around.

```{r descr_md, results='asis'}
descr(iris)
```

### Full-Scale Dataframe Summaries With `dfSummary()`

This is probably the most time-saving function I have ever written...

```{r dfsum_md, results='asis'}
dfSummary(iris)
```

## Redirecting Output

### Text/Markdown Documents

With the `file=` parameter, you can redirect output normally displayed in the console into text files. And setting `append=TRUE` will append results to an existing text file. For instance:

```{r redir, eval=FALSE}
dfSummary(iris, file="~/Documents/iris.txt", style = "grid")  # Creates (or overwrites) file iris.txt
descr(iris, file="~/Documents/iris.txt", append = TRUE)       # Appends descr() results to iris.txt
```

### HTML Documents

_summarytools_ uses [Bootstrap](http://getbootstrap.com/css/#tables)'s stylesheets to generate standalone HTML documents that can be displayed instantly in your Web Browser or in _RStudio_'s Viewer with the generic `print()` function. 

```{r view_html, eval=FALSE}
print(dfSummary(iris), method = "browser")  # Displays results in default Web Browser
print(dfSummary(iris), method = "viewer")   # Displays results in RStudio's Viewer
view(dfSummary(iris))                       # Same as line above -- view() is just a wrapper function
```

Or you can use the `file=` argument with an .html extension to simply generate an HTML document (without it being opened automatically).

```{r create_html, eval=FALSE}
dfSummary(iris, file = "~/Documents/iris_summary.html")  # Generates an HTML file
```


#### Removing Temporary Files With `cleartmp()`
When calling `print()` or `view()` with _summarytools_ results, as in those examples, a temporary HTML file is created in R's temporary directory. To remove the last temporary file from your file-system, use `cleartmp()`; to remove all temporary files generated by _summarytools_ in the Session, use `cleartmp('all')`.


## Getting (Possibly) All Properties of an Object With `what.is()`

When developing, we often use a number functions to obtain an object's properties. `what.is()` proposes to lump together the results of such functions (`class()`, `typeof()`, `attributes()` and others).

```{r, warning=FALSE}
what.is(iris)
```

## Staying up-to-date

To install the package in its development version, use `devtools::install_github(dcomtois/summarytools)`. Check the [project's page](https://github.com/dcomtois/summarytools) to submit feature requests or to signal problems you might encounter.