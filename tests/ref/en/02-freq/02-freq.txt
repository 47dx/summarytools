
# ---------------------------- freq.R ------------------------------------------  

> data(tobacco) 
> tobacco <- tibble::as_tibble(tobacco) 
> label(tobacco$gender) <- "Subject's Gender" 

# Basic tables + general formatting (style / plain.ascii) ---------------------- 

> (freq1 <- freq(tobacco$gender)) 

Frequencies  
tobacco$gender  
Label: Subject's Gender  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
          F    489     50.00          50.00     48.90          48.90
          M    489     50.00         100.00     48.90          97.80
       <NA>     22                               2.20         100.00
      Total   1000    100.00         100.00    100.00         100.00

> print(freq1, plain.ascii = F) 

### Frequencies  
#### tobacco$gender  
**Label:** Subject's Gender  
**Type:** Factor  

      &nbsp;   Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
------------ ------ --------- -------------- --------- --------------
       **F**    489     50.00          50.00     48.90          48.90
       **M**    489     50.00         100.00     48.90          97.80
  **\<NA\>**     22                               2.20         100.00
   **Total**   1000    100.00         100.00    100.00         100.00

> print(freq1, plain.ascii = F, style = "rmarkdown") 

### Frequencies  
#### tobacco$gender  
**Label:** Subject's Gender  
**Type:** Factor  

|     &nbsp; | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
|-----------:|-----:|--------:|-------------:|--------:|-------------:|
|      **F** |  489 |   50.00 |        50.00 |   48.90 |        48.90 |
|      **M** |  489 |   50.00 |       100.00 |   48.90 |        97.80 |
| **\<NA\>** |   22 |         |              |    2.20 |       100.00 |
|  **Total** | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |

> print(freq1, plain.ascii = F, style = "grid", headings = FALSE) 


+------------+------+---------+--------------+---------+--------------+
|     &nbsp; | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+============+======+=========+==============+=========+==============+
|      **F** |  489 |   50.00 |        50.00 |   48.90 |        48.90 |
+------------+------+---------+--------------+---------+--------------+
|      **M** |  489 |   50.00 |       100.00 |   48.90 |        97.80 |
+------------+------+---------+--------------+---------+--------------+
| **\<NA\>** |   22 |         |              |    2.20 |       100.00 |
+------------+------+---------+--------------+---------+--------------+
|  **Total** | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+------------+------+---------+--------------+---------+--------------+


# Variable label --------------------------------------------------------------- 

> data(tabagisme) 
> label(tabagisme$age.gr) <- "Groupe d'âge" 

# Round to 1 decimal ----------------------------------------------------------- 

> (freq2 <- freq(tabagisme$age.gr, round.digits = 1)) 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258      26.5           26.5      25.8           25.8
      35-50    241      24.7           51.2      24.1           49.9
      51-70    317      32.5           83.7      31.7           81.6
       71 +    159      16.3          100.0      15.9           97.5
       <NA>     25                                2.5          100.0
      Total   1000     100.0          100.0     100.0          100.0


# Mask label, then type -------------------------------------------------------- 

> print(freq2, display.labels = FALSE) 

Frequencies  
tabagisme$age.gr  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258      26.5           26.5      25.8           25.8
      35-50    241      24.7           51.2      24.1           49.9
      51-70    317      32.5           83.7      31.7           81.6
       71 +    159      16.3          100.0      15.9           97.5
       <NA>     25                                2.5          100.0
      Total   1000     100.0          100.0     100.0          100.0

> print(freq2, display.type = F) 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258      26.5           26.5      25.8           25.8
      35-50    241      24.7           51.2      24.1           49.9
      51-70    317      32.5           83.7      31.7           81.6
       71 +    159      16.3          100.0      15.9           97.5
       <NA>     25                                2.5          100.0
      Total   1000     100.0          100.0     100.0          100.0


# Mask total and/or NAs -------------------------------------------------------- 

> print(freq2, totals = FALSE) 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258      26.5           26.5      25.8           25.8
      35-50    241      24.7           51.2      24.1           49.9
      51-70    317      32.5           83.7      31.7           81.6
       71 +    159      16.3          100.0      15.9           97.5
       <NA>     25                                2.5          100.0

> print(freq2, report.nas = FALSE) 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  
Type: Factor  

              Freq       %   % Cum.
----------- ------ ------- --------
      18-34    258    26.5     26.5
      35-50    241    24.7     51.2
      51-70    317    32.5     83.7
       71 +    159    16.3    100.0
      Total    975   100.0    100.0

> print(freq2, report.nas = FALSE, totals = FALSE) 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  
Type: Factor  

              Freq      %   % Cum.
----------- ------ ------ --------
      18-34    258   26.5     26.5
      35-50    241   24.7     51.2
      51-70    317   32.5     83.7
       71 +    159   16.3    100.0


# Replace the missing symbol --------------------------------------------------- 

> print(freq2, missing = "---") 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258      26.5           26.5      25.8           25.8
      35-50    241      24.7           51.2      24.1           49.9
      51-70    317      32.5           83.7      31.7           81.6
       71 +    159      16.3          100.0      15.9           97.5
       <NA>     25       ---            ---       2.5          100.0
      Total   1000     100.0          100.0     100.0          100.0


# Row order - levels by default for factors ------------------------------------ 

> freq(tobacco$diseased) 

Frequencies  
tobacco$diseased  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes    224     22.40          22.40     22.40          22.40
         No    776     77.60         100.00     77.60         100.00
       <NA>      0                               0.00         100.00
      Total   1000    100.00         100.00    100.00         100.00


# 2) modified order ------------------------------------------------------------ 

> freq(tobacco$diseased, order = "freq") 

Frequencies  
tobacco$diseased  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
         No    776     77.60          77.60     77.60          77.60
        Yes    224     22.40         100.00     22.40         100.00
       <NA>      0                               0.00         100.00
      Total   1000    100.00         100.00    100.00         100.00

> freq(tobacco$diseased, order = "names") 

Frequencies  
tobacco$diseased  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
         No    776     77.60          77.60     77.60          77.60
        Yes    224     22.40         100.00     22.40         100.00
       <NA>      0                               0.00         100.00
      Total   1000    100.00         100.00    100.00         100.00


# Override the rounding -------------------------------------------------------- 

> print(freq2, round.digits = 2) 

Frequencies  
tabagisme$age.gr  
Label: Groupe d'âge  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258     26.46          26.46     25.80          25.80
      35-50    241     24.72          51.18     24.10          49.90
      51-70    317     32.51          83.69     31.70          81.60
       71 +    159     16.31         100.00     15.90          97.50
       <NA>     25                               2.50         100.00
      Total   1000    100.00         100.00    100.00         100.00


# "Free" (not in a df) variables ----------------------------------------------- 

> Gender <- tobacco$gender 
> Gender[1] <- "F" 
> freq(Gender) 

Frequencies  
Gender  
Label: Subject's Gender  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
          F    490     50.10          50.10     49.00          49.00
          M    488     49.90         100.00     48.80          97.80
       <NA>     22                               2.20         100.00
      Total   1000    100.00         100.00    100.00         100.00

> view(freq(Gender)) 
-- Output file written


# subsetting ------------------------------------------------------------------- 


# On factor - headings not affected -------------------------------------------- 

> freq(tobacco$gender[tobacco$smoker=="Yes"]) 

Frequencies  
tobacco$gender  
Label: Subject's Gender  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
          F    147     50.69          50.69     49.33          49.33
          M    143     49.31         100.00     47.99          97.32
       <NA>      8                               2.68         100.00
      Total    298    100.00         100.00    100.00         100.00

> freq(tobacco$gender[1:500]) 

Frequencies  
tobacco$gender  
Label: Subject's Gender  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
          F    248     50.51          50.51     49.60          49.60
          M    243     49.49         100.00     48.60          98.20
       <NA>      9                               1.80         100.00
      Total    500    100.00         100.00    100.00         100.00


# on dataframe - variable name should be set correctly ------------------------- 

> freq(tobacco[,1]) # label doesn't show (ok) 

Frequencies  
tobacco$gender  
Label: Subject's Gender  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
          F    489     50.00          50.00     48.90          48.90
          M    489     50.00         100.00     48.90          97.80
       <NA>     22                               2.20         100.00
      Total   1000    100.00         100.00    100.00         100.00

> freq(tobacco[[3]]) 

Frequencies  
tobacco$age.gr  
Type: Factor  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
      18-34    258     26.46          26.46     25.80          25.80
      35-50    241     24.72          51.18     24.10          49.90
      51-70    317     32.51          83.69     31.70          81.60
       71 +    159     16.31         100.00     15.90          97.50
       <NA>     25                               2.50         100.00
      Total   1000    100.00         100.00    100.00         100.00


# Print to files (Style and/or method should be modified with message) --------- 

> print(freq1, file = "01.md") 
-- Setting 'plain.ascii' to FALSE and Changing style to 'rmarkdown' for improved markdown compatibility
-- Output file written

> print(freq1, file = "01.html") 
-- Switching method to 'browser'
-- Output file written

> print(freq1, bootstrap.css = FALSE, footnote = "no bootstrap", file = "02 - no bootstrap.html", report.title = "Freq without bootstrap") 
-- Switching method to 'browser'
-- Output file written


# Weights ---------------------------------------------------------------------- 

> (freq3 <- freq(tabagisme$maladie, weights = tabagisme$ponderation)) 

Weighted Frequencies  
tabagisme$maladie  
Type: Character  
Weights: ponderation  

                                Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
-------------------------- --------- --------- -------------- --------- --------------
                     Autre      2.09      0.93           0.93      0.21           0.21
                    Cancer     33.66     15.03          15.96      3.37           3.57
                 Cardiaque     19.89      8.88          24.85      1.99           5.56
               Cholestérol     21.11      9.42          34.27      2.11           7.67
                   Diabète     14.36      6.41          40.68      1.44           9.11
              Hypertension     36.52     16.31          56.99      3.65          12.76
               Hypotension     11.37      5.08          62.07      1.14          13.90
      Musculo-squelettique     19.59      8.75          70.82      1.96          15.86
              Neurologique     10.14      4.53          75.35      1.01          16.87
                      Ouïe     14.15      6.32          81.66      1.41          18.29
                Pulmonaire     20.29      9.06          90.72      2.03          20.32
          Système digestif     11.49      5.13          95.85      1.15          21.46
                       Vue      9.29      4.15         100.00      0.93          22.39
                      <NA>    776.07                              77.61         100.00
                     Total   1000.00    100.00         100.00    100.00         100.00

> print(freq3, file = "03 - weights.html") 
-- Switching method to 'browser'
-- Output file written


# with() ----------------------------------------------------------------------- 

> label(tobacco) <- "Study on Tobacco and Health" 
> label(tobacco$gender) <- "Subject's Gender" 
> (wf1 <- with(tobacco, freq(gender, plain.ascii = F, weights = samp.wgts))) 

### Weighted Frequencies  
#### tobacco$gender  
**Label:** Subject's Gender  
**Type:** Factor  
**Weights:** samp.wgts  

      &nbsp;      Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
------------ --------- --------- -------------- --------- --------------
       **F**    488.92     50.00          50.00     48.89          48.89
       **M**    488.92     50.00         100.00     48.89          97.78
  **\<NA\>**     22.16                               2.22         100.00
   **Total**   1000.00    100.00         100.00    100.00         100.00


# stby() ----------------------------------------------------------------------- 

> label(tobacco$diseased) <- "Subject has an illness" 
> (bf1 <- stby(data = tobacco$diseased, INDICES = tobacco$smoker, FUN = freq)) 

Frequencies  
tobacco$diseased  
Label: Subject has an illness  
Type: Factor  
Group: smoker = Yes  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes    125     41.95          41.95     41.95          41.95
         No    173     58.05         100.00     58.05         100.00
       <NA>      0                               0.00         100.00
      Total    298    100.00         100.00    100.00         100.00

Group: smoker = No  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes     99     14.10          14.10     14.10          14.10
         No    603     85.90         100.00     85.90         100.00
       <NA>      0                               0.00         100.00
      Total    702    100.00         100.00    100.00         100.00

> view(bf1, 'pander') 

Frequencies  
tobacco$diseased  
Label: Subject has an illness  
Type: Factor  
Group: smoker = Yes  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes    125     41.95          41.95     41.95          41.95
         No    173     58.05         100.00     58.05         100.00
       <NA>      0                               0.00         100.00
      Total    298    100.00         100.00    100.00         100.00

Group: smoker = No  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes     99     14.10          14.10     14.10          14.10
         No    603     85.90         100.00     85.90         100.00
       <NA>      0                               0.00         100.00
      Total    702    100.00         100.00    100.00         100.00

> print(bf1, headings = FALSE, plain.ascii = FALSE) 

**Group:** smoker = Yes  

      &nbsp;   Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
------------ ------ --------- -------------- --------- --------------
     **Yes**    125     41.95          41.95     41.95          41.95
      **No**    173     58.05         100.00     58.05         100.00
  **\<NA\>**      0                               0.00         100.00
   **Total**    298    100.00         100.00    100.00         100.00

**Group:** smoker = No  

      &nbsp;   Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
------------ ------ --------- -------------- --------- --------------
     **Yes**     99     14.10          14.10     14.10          14.10
      **No**    603     85.90         100.00     85.90         100.00
  **\<NA\>**      0                               0.00         100.00
   **Total**    702    100.00         100.00    100.00         100.00

> print(bf1, footnote = "by", file = "04 - by.html", missing = "xxxx") 
-- Switching method to 'browser'
-- Output file written
-- Output file appended

> view(bf1, headings = FALSE, footnote = "no headings", file = "05 - by.html") 
-- Output file written
-- Output file appended

> (bf2 <- stby(data = tobacco$diseased, INDICES = tobacco$smoker, FUN = freq)) 

Frequencies  
tobacco$diseased  
Label: Subject has an illness  
Type: Factor  
Group: smoker = Yes  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes    125     41.95          41.95     41.95          41.95
         No    173     58.05         100.00     58.05         100.00
       <NA>      0                               0.00         100.00
      Total    298    100.00         100.00    100.00         100.00

Group: smoker = No  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes     99     14.10          14.10     14.10          14.10
         No    603     85.90         100.00     85.90         100.00
       <NA>      0                               0.00         100.00
      Total    702    100.00         100.00    100.00         100.00

> print(bf2, file = "06 - by.html") 
-- Switching method to 'browser'
-- Output file written
-- Output file appended

> (bf3 <- stby(iris$Species, iris$Sepal.Length > mean(iris$Sepal.Length), freq)) 

Frequencies  
iris$Species  
Type: Factor  
Group: Sepal.Length > mean(Sepal.Length) = FALSE  

                   Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
---------------- ------ --------- -------------- --------- --------------
          setosa     50     62.50          62.50     62.50          62.50
      versicolor     24     30.00          92.50     30.00          92.50
       virginica      6      7.50         100.00      7.50         100.00
            <NA>      0                               0.00         100.00
           Total     80    100.00         100.00    100.00         100.00

Group: Sepal.Length > mean(Sepal.Length) = TRUE  

                   Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
---------------- ------ --------- -------------- --------- --------------
          setosa      0      0.00           0.00      0.00           0.00
      versicolor     26     37.14          37.14     37.14          37.14
       virginica     44     62.86         100.00     62.86         100.00
            <NA>      0                               0.00         100.00
           Total     70    100.00         100.00    100.00         100.00

> print(bf3, file = "07 - by.html") 
-- Switching method to 'browser'
-- Output file written
-- Output file appended


# Using stby() + with() --- retrieving labels works only when executed "not in batch"  

> label(tobacco$diseased) <- "Subject has an illness" 
> (bwf1 <- with(tobacco, stby(data = diseased, INDICES = smoker, FUN = freq))) 

Frequencies  
tobacco$diseased  
Label: Subject has an illness  
Type: Factor  
Group: smoker = Yes  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes    125     41.95          41.95     41.95          41.95
         No    173     58.05         100.00     58.05         100.00
       <NA>      0                               0.00         100.00
      Total    298    100.00         100.00    100.00         100.00

Group: smoker = No  

              Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
----------- ------ --------- -------------- --------- --------------
        Yes     99     14.10          14.10     14.10          14.10
         No    603     85.90         100.00     85.90         100.00
       <NA>      0                               0.00         100.00
      Total    702    100.00         100.00    100.00         100.00

> view(bwf1) 
-- Output file written
-- Output file appended


# Labels, global options ------------------------------------------------------- 

> st_options(plain.ascii = TRUE, style = "grid") 
> label(tobacco) <- "A Study On Tobacco and Health" 
> label(tobacco$gender) <- "Subject's Gender" 
> label(tobacco$age.gr) <- "Age Group" 
> label(tobacco$smoker) <- "Subject Smokes" 
> (ft <- freq(tobacco)) 
-- Variable(s) ignored: age, BMI, cigs.per.day

Frequencies  
tobacco$gender  
Label: Subject's Gender  
Type: Factor  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|         F |  489 |   50.00 |        50.00 |   48.90 |        48.90 |
+-----------+------+---------+--------------+---------+--------------+
|         M |  489 |   50.00 |       100.00 |   48.90 |        97.80 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |   22 |         |              |    2.20 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$age.gr  
Label: Age Group  
Type: Factor  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|     18-34 |  258 |   26.46 |        26.46 |   25.80 |        25.80 |
+-----------+------+---------+--------------+---------+--------------+
|     35-50 |  241 |   24.72 |        51.18 |   24.10 |        49.90 |
+-----------+------+---------+--------------+---------+--------------+
|     51-70 |  317 |   32.51 |        83.69 |   31.70 |        81.60 |
+-----------+------+---------+--------------+---------+--------------+
|      71 + |  159 |   16.31 |       100.00 |   15.90 |        97.50 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |   25 |         |              |    2.50 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$smoker  
Label: Subject Smokes  
Type: Factor  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|       Yes |  298 |   29.80 |        29.80 |   29.80 |        29.80 |
+-----------+------+---------+--------------+---------+--------------+
|        No |  702 |   70.20 |       100.00 |   70.20 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |    0 |         |              |    0.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$diseased  
Label: Subject has an illness  
Type: Factor  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|       Yes |  224 |   22.40 |        22.40 |   22.40 |        22.40 |
+-----------+------+---------+--------------+---------+--------------+
|        No |  776 |   77.60 |       100.00 |   77.60 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |    0 |         |              |    0.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$disease  
Type: Character  

+---------------------+------+---------+--------------+---------+--------------+
|                     | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+=====================+======+=========+==============+=========+==============+
|              Cancer |   34 |   15.32 |        15.32 |    3.40 |         3.40 |
+---------------------+------+---------+--------------+---------+--------------+
|         Cholesterol |   21 |    9.46 |        24.77 |    2.10 |         5.50 |
+---------------------+------+---------+--------------+---------+--------------+
|            Diabetes |   14 |    6.31 |        31.08 |    1.40 |         6.90 |
+---------------------+------+---------+--------------+---------+--------------+
|           Digestive |   12 |    5.41 |        36.49 |    1.20 |         8.10 |
+---------------------+------+---------+--------------+---------+--------------+
|             Hearing |   14 |    6.31 |        42.79 |    1.40 |         9.50 |
+---------------------+------+---------+--------------+---------+--------------+
|               Heart |   20 |    9.01 |        51.80 |    2.00 |        11.50 |
+---------------------+------+---------+--------------+---------+--------------+
|        Hypertension |   36 |   16.22 |        68.02 |    3.60 |        15.10 |
+---------------------+------+---------+--------------+---------+--------------+
|         Hypotension |   11 |    4.95 |        72.97 |    1.10 |        16.20 |
+---------------------+------+---------+--------------+---------+--------------+
|     Musculoskeletal |   19 |    8.56 |        81.53 |    1.90 |        18.10 |
+---------------------+------+---------+--------------+---------+--------------+
|        Neurological |   10 |    4.50 |        86.04 |    1.00 |        19.10 |
+---------------------+------+---------+--------------+---------+--------------+
|               Other |    2 |    0.90 |        86.94 |    0.20 |        19.30 |
+---------------------+------+---------+--------------+---------+--------------+
|           Pulmonary |   20 |    9.01 |        95.95 |    2.00 |        21.30 |
+---------------------+------+---------+--------------+---------+--------------+
|              Vision |    9 |    4.05 |       100.00 |    0.90 |        22.20 |
+---------------------+------+---------+--------------+---------+--------------+
|                <NA> |  778 |         |              |   77.80 |       100.00 |
+---------------------+------+---------+--------------+---------+--------------+
|               Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+---------------------+------+---------+--------------+---------+--------------+

> print(ft, display.labels = F, display.type = F) 
-- Variable(s) ignored: age, BMI, cigs.per.day

Frequencies  
tobacco$gender  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|         F |  489 |   50.00 |        50.00 |   48.90 |        48.90 |
+-----------+------+---------+--------------+---------+--------------+
|         M |  489 |   50.00 |       100.00 |   48.90 |        97.80 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |   22 |         |              |    2.20 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$age.gr  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|     18-34 |  258 |   26.46 |        26.46 |   25.80 |        25.80 |
+-----------+------+---------+--------------+---------+--------------+
|     35-50 |  241 |   24.72 |        51.18 |   24.10 |        49.90 |
+-----------+------+---------+--------------+---------+--------------+
|     51-70 |  317 |   32.51 |        83.69 |   31.70 |        81.60 |
+-----------+------+---------+--------------+---------+--------------+
|      71 + |  159 |   16.31 |       100.00 |   15.90 |        97.50 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |   25 |         |              |    2.50 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$smoker  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|       Yes |  298 |   29.80 |        29.80 |   29.80 |        29.80 |
+-----------+------+---------+--------------+---------+--------------+
|        No |  702 |   70.20 |       100.00 |   70.20 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |    0 |         |              |    0.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$diseased  

+-----------+------+---------+--------------+---------+--------------+
|           | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+===========+======+=========+==============+=========+==============+
|       Yes |  224 |   22.40 |        22.40 |   22.40 |        22.40 |
+-----------+------+---------+--------------+---------+--------------+
|        No |  776 |   77.60 |       100.00 |   77.60 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|      <NA> |    0 |         |              |    0.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+
|     Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+-----------+------+---------+--------------+---------+--------------+

tobacco$disease  

+---------------------+------+---------+--------------+---------+--------------+
|                     | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
+=====================+======+=========+==============+=========+==============+
|              Cancer |   34 |   15.32 |        15.32 |    3.40 |         3.40 |
+---------------------+------+---------+--------------+---------+--------------+
|         Cholesterol |   21 |    9.46 |        24.77 |    2.10 |         5.50 |
+---------------------+------+---------+--------------+---------+--------------+
|            Diabetes |   14 |    6.31 |        31.08 |    1.40 |         6.90 |
+---------------------+------+---------+--------------+---------+--------------+
|           Digestive |   12 |    5.41 |        36.49 |    1.20 |         8.10 |
+---------------------+------+---------+--------------+---------+--------------+
|             Hearing |   14 |    6.31 |        42.79 |    1.40 |         9.50 |
+---------------------+------+---------+--------------+---------+--------------+
|               Heart |   20 |    9.01 |        51.80 |    2.00 |        11.50 |
+---------------------+------+---------+--------------+---------+--------------+
|        Hypertension |   36 |   16.22 |        68.02 |    3.60 |        15.10 |
+---------------------+------+---------+--------------+---------+--------------+
|         Hypotension |   11 |    4.95 |        72.97 |    1.10 |        16.20 |
+---------------------+------+---------+--------------+---------+--------------+
|     Musculoskeletal |   19 |    8.56 |        81.53 |    1.90 |        18.10 |
+---------------------+------+---------+--------------+---------+--------------+
|        Neurological |   10 |    4.50 |        86.04 |    1.00 |        19.10 |
+---------------------+------+---------+--------------+---------+--------------+
|               Other |    2 |    0.90 |        86.94 |    0.20 |        19.30 |
+---------------------+------+---------+--------------+---------+--------------+
|           Pulmonary |   20 |    9.01 |        95.95 |    2.00 |        21.30 |
+---------------------+------+---------+--------------+---------+--------------+
|              Vision |    9 |    4.05 |       100.00 |    0.90 |        22.20 |
+---------------------+------+---------+--------------+---------+--------------+
|                <NA> |  778 |         |              |   77.80 |       100.00 |
+---------------------+------+---------+--------------+---------+--------------+
|               Total | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |
+---------------------+------+---------+--------------+---------+--------------+


# lapply() --------------------------------------------------------------------- 

> tobacco_subset <- tobacco[,c(3,5,6)] 
> lapply(tobacco_subset, freq, style = "rmarkdown") 

### Frequencies  
#### tobacco_subset$age.gr  
**Label:** Age Group  
**Type:** Factor  

|     &nbsp; | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
|-----------:|-----:|--------:|-------------:|--------:|-------------:|
|  **18-34** |  258 |   26.46 |        26.46 |   25.80 |        25.80 |
|  **35-50** |  241 |   24.72 |        51.18 |   24.10 |        49.90 |
|  **51-70** |  317 |   32.51 |        83.69 |   31.70 |        81.60 |
|   **71 +** |  159 |   16.31 |       100.00 |   15.90 |        97.50 |
| **\<NA\>** |   25 |         |              |    2.50 |       100.00 |
|  **Total** | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |

#### tobacco_subset$smoker  
**Label:** Subject Smokes  
**Type:** Factor  

|     &nbsp; | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
|-----------:|-----:|--------:|-------------:|--------:|-------------:|
|    **Yes** |  298 |   29.80 |        29.80 |   29.80 |        29.80 |
|     **No** |  702 |   70.20 |       100.00 |   70.20 |       100.00 |
| **\<NA\>** |    0 |         |              |    0.00 |       100.00 |
|  **Total** | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |

#### tobacco_subset$cigs.per.day  
**Type:** Numeric  

|     &nbsp; | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. |
|-----------:|-----:|--------:|-------------:|--------:|-------------:|
|      **0** |  674 |   69.84 |        69.84 |   67.40 |        67.40 |
|      **5** |   11 |    1.14 |        70.98 |    1.10 |        68.50 |
|      **6** |    9 |    0.93 |        71.92 |    0.90 |        69.40 |
|      **7** |    7 |    0.73 |        72.64 |    0.70 |        70.10 |
|      **8** |    6 |    0.62 |        73.26 |    0.60 |        70.70 |
|      **9** |    5 |    0.52 |        73.78 |    0.50 |        71.20 |
|     **10** |    6 |    0.62 |        74.40 |    0.60 |        71.80 |
|     **11** |   19 |    1.97 |        76.37 |    1.90 |        73.70 |
|     **12** |    5 |    0.52 |        76.89 |    0.50 |        74.20 |
|     **13** |    8 |    0.83 |        77.72 |    0.80 |        75.00 |
|     **14** |    9 |    0.93 |        78.65 |    0.90 |        75.90 |
|     **15** |   11 |    1.14 |        79.79 |    1.10 |        77.00 |
|     **16** |    7 |    0.73 |        80.52 |    0.70 |        77.70 |
|     **17** |    6 |    0.62 |        81.14 |    0.60 |        78.30 |
|     **18** |    9 |    0.93 |        82.07 |    0.90 |        79.20 |
|     **19** |    6 |    0.62 |        82.69 |    0.60 |        79.80 |
|     **20** |    7 |    0.73 |        83.42 |    0.70 |        80.50 |
|     **21** |   12 |    1.24 |        84.66 |    1.20 |        81.70 |
|     **22** |    5 |    0.52 |        85.18 |    0.50 |        82.20 |
|     **23** |    8 |    0.83 |        86.01 |    0.80 |        83.00 |
|     **24** |    3 |    0.31 |        86.32 |    0.30 |        83.30 |
|     **25** |   11 |    1.14 |        87.46 |    1.10 |        84.40 |
|     **26** |    5 |    0.52 |        87.98 |    0.50 |        84.90 |
|     **27** |    7 |    0.73 |        88.70 |    0.70 |        85.60 |
|     **28** |   10 |    1.04 |        89.74 |    1.00 |        86.60 |
|     **29** |    8 |    0.83 |        90.57 |    0.80 |        87.40 |
|     **30** |    5 |    0.52 |        91.09 |    0.50 |        87.90 |
|     **31** |    8 |    0.83 |        91.92 |    0.80 |        88.70 |
|     **32** |    7 |    0.73 |        92.64 |    0.70 |        89.40 |
|     **33** |    6 |    0.62 |        93.26 |    0.60 |        90.00 |
|     **34** |    9 |    0.93 |        94.20 |    0.90 |        90.90 |
|     **35** |    8 |    0.83 |        95.03 |    0.80 |        91.70 |
|     **36** |    9 |    0.93 |        95.96 |    0.90 |        92.60 |
|     **37** |   13 |    1.35 |        97.31 |    1.30 |        93.90 |
|     **38** |   14 |    1.45 |        98.76 |    1.40 |        95.30 |
|     **39** |    7 |    0.73 |        99.48 |    0.70 |        96.00 |
|     **40** |    5 |    0.52 |       100.00 |    0.50 |        96.50 |
| **\<NA\>** |   35 |         |              |    3.50 |       100.00 |
|  **Total** | 1000 |  100.00 |       100.00 |  100.00 |       100.00 |


# Other global options --------------------------------------------------------- 

> st_options(freq.totals = FALSE, freq.report.nas = FALSE) 
> freq(tobacco) 
-- Variable(s) ignored: age, BMI, cigs.per.day

Frequencies  
tobacco$gender  
Label: Subject's Gender  
Type: Factor  

+--------+------+-------+--------+
|        | Freq |     % | % Cum. |
+========+======+=======+========+
|      F |  489 | 50.00 |  50.00 |
+--------+------+-------+--------+
|      M |  489 | 50.00 | 100.00 |
+--------+------+-------+--------+

tobacco$age.gr  
Label: Age Group  
Type: Factor  

+-----------+------+-------+--------+
|           | Freq |     % | % Cum. |
+===========+======+=======+========+
|     18-34 |  258 | 26.46 |  26.46 |
+-----------+------+-------+--------+
|     35-50 |  241 | 24.72 |  51.18 |
+-----------+------+-------+--------+
|     51-70 |  317 | 32.51 |  83.69 |
+-----------+------+-------+--------+
|      71 + |  159 | 16.31 | 100.00 |
+-----------+------+-------+--------+

tobacco$smoker  
Label: Subject Smokes  
Type: Factor  

+---------+------+-------+--------+
|         | Freq |     % | % Cum. |
+=========+======+=======+========+
|     Yes |  298 | 29.80 |  29.80 |
+---------+------+-------+--------+
|      No |  702 | 70.20 | 100.00 |
+---------+------+-------+--------+

tobacco$diseased  
Label: Subject has an illness  
Type: Factor  

+---------+------+-------+--------+
|         | Freq |     % | % Cum. |
+=========+======+=======+========+
|     Yes |  224 | 22.40 |  22.40 |
+---------+------+-------+--------+
|      No |  776 | 77.60 | 100.00 |
+---------+------+-------+--------+

tobacco$disease  
Type: Character  

+---------------------+------+-------+--------+
|                     | Freq |     % | % Cum. |
+=====================+======+=======+========+
|              Cancer |   34 | 15.32 |  15.32 |
+---------------------+------+-------+--------+
|         Cholesterol |   21 |  9.46 |  24.77 |
+---------------------+------+-------+--------+
|            Diabetes |   14 |  6.31 |  31.08 |
+---------------------+------+-------+--------+
|           Digestive |   12 |  5.41 |  36.49 |
+---------------------+------+-------+--------+
|             Hearing |   14 |  6.31 |  42.79 |
+---------------------+------+-------+--------+
|               Heart |   20 |  9.01 |  51.80 |
+---------------------+------+-------+--------+
|        Hypertension |   36 | 16.22 |  68.02 |
+---------------------+------+-------+--------+
|         Hypotension |   11 |  4.95 |  72.97 |
+---------------------+------+-------+--------+
|     Musculoskeletal |   19 |  8.56 |  81.53 |
+---------------------+------+-------+--------+
|        Neurological |   10 |  4.50 |  86.04 |
+---------------------+------+-------+--------+
|               Other |    2 |  0.90 |  86.94 |
+---------------------+------+-------+--------+
|           Pulmonary |   20 |  9.01 |  95.95 |
+---------------------+------+-------+--------+
|              Vision |    9 |  4.05 | 100.00 |
+---------------------+------+-------+--------+

